<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="preload" as="font" href="/fonts/JetBrainsMono-Regular.woff2" type="font/woff2" crossorigin="anonymous">
        <link rel="preload" as="font" href="/fonts/JetBrainsMono-Regular.woff" type="font/woff" crossorigin="anonymous">
        <title>Jake Hoffman</title>

        <style>
            @font-face {
                font-family: 'JetBrainsMono';
                src: url('/fonts/JetBrainsMono-Regular.woff') format('woff'),
                    url('/fonts/JetBrainsMono-Regular.woff2') format('woff2'),
                    url('/fonts/JetBrainsMono-Regular.ttf') format('truetype');
                font-weight: normal;
                font-style: normal;
                font-display: swap;
            }

            :root {
                --color-left: #292828;
                --color-header: #292828;
                --color-content: #292828;
                --color-title: #ea6962;
                --color-emph: #ea6962;
                --color-title-link-hover: #b85651a0; 
                --color-desc: #d4be98;
                --color-date: #d8a657;
                --color-header-link: #d4be98;
                --color-header-link-hover: #928374;
                --color-left-link: #d4be98;
                --color-left-link-hover: #928374;
            }

            html, body{
                height: 100%;
                width: 100%;
                -ms-overflow-style: none;  /* IE and Edge */
                scrollbar-width: none;  /* Firefox */
            }

            html::-webkit-scrollbar {
                display: none; /* Everything Else */
            }

            body {
                background-color: var(--color-content);
                font-family:JetBrainsMono, 'Courier New', Courier, monospace;
                color: var(--color-desc);
                display: inline-block;
                
            }

            ul {
                margin: 0;
            }

            header {
                margin: 0;
                background-color: var(--color-header);
                position: fixed;
                left: 0;
                top: 0;
                z-index: 0;

                width: 100%;
                height: 84px;
            }

            .tab {
                padding-left: 2em;
            }

            .link {
                color: var(--color-header-link);
                text-decoration: none;
                cursor: pointer;
            }

            .link:hover {
                color: var(--color-header-link-hover);
                
            }

            #header-right {
                float: right;
                width: 400px;
                height: 100%;
                /* display: inline-block; */
            }

            .header-right {
                line-height: 84px;
                text-align: center;

                display: inline-block;

                width: auto;
                height: 84px;
            }

            .left {
                position: fixed;

                text-align: center;

                top: 0;
                left: 0;
                height: 100vh;
                width: 270px;
                z-index: 1;
                background-color: var(--color-left);
            }

            #left-top {
                padding-left: 0px;
                position: absolute;
                /* text-align: left; */
                width: 1000px;
                bottom: 770px;
                left: -430px;
                transform: rotate(90deg);
            }

            #emph-jake {
                color: var(--color-emph);
            }

            #left-bottom {
                position: absolute;
                width: 100%;
                bottom: 32px;
                left: 1vh;
                margin: auto;
            }

            .left-bottom {
                margin-top: 5px;
            }

            #circle {
                width: 180px;
                height: 180px;
                margin-left: auto;
                margin-right: auto;
                margin-bottom: 12px;
                background-color: var(--color-left);
                border-radius: 50%;

                background-image: url("images/ME.jpg");

                background-repeat: no-repeat;
                background-size: auto;
                background-position: center;
                background-size: 180px;
            }

            html:not([data-scroll='0']) header {
                /* background-color: #d4be98; */
                -webkit-box-shadow: 0px -18px 5px 17px #00000080;
                -moz-box-shadow: 0px -18px 5px 17px #00000080;
                box-shadow: 0px -18px 5px 17px #00000080;
            }
            
            #content {
                margin-top: 84px;
                margin-left: 280px;
                padding: 100px 20vw 0px 10vw;
                overflow: auto;

                z-index: 10;
            }

            /* .entry {
                margin-top: 10px;
            } */

            .entry-title {
                font-weight: bold;
                color: var(--color-title);
            }

            .entry-content {
                margin-top: 0px;
                margin-left: 40px;
            }

            .entry-date {
                color: var(--color-date);
                margin-bottom: 60px;
            }

            .entry-link {
                text-decoration: none;
                font-weight: bold;
                color: var(--color-title);
                cursor: pointer;
            }

            .entry-link:hover {
                color: var(--color-title-link-hover);
                
            }

            .entry-desc {
                margin-top: 0px;
                margin-bottom: 60px;
            }

        </style>

    </head>
    <body>
        <div class="left">
            <div id="left-top">
                <div class="left-top">Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman 
                    Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman 
                    Jake Hoffman Jake Hoffman <span id="emph-jake" onclick="changeColors(1)">Jake Hoffman</span> Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman
                    Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman
                    Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman
                    Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman Jake Hoffman</div>
            </div>
            <div id="left-bottom">
                <div id="circle" class="left-bottom"></div>
                <div class="left-bottom"><a class="link" href="https://github.com/Jake-Hoffman">@GitHub</a></div>
                <div class="left-bottom"><a class="link" href="https://twitter.com/_OkWater">@Twitter</a></div>
            </div>
        </div>
        <div class="right">
            <header>
                <div id="header-right">
                    <ul class="header-right"><a class="link" id="links">Links</a></ul>
                    <ul class="header-right"><a class="link" id="projects">Projects</a></ul>
                    <ul class="header-right"><a class="link" id="thoughts">Thoughts</a></ul>
                </div>
            </header>
            <div id="content"></div>
        </div>
        
        <script src="/__/firebase/7.17.2/firebase.js"></script>
        <!-- <script src="https://www.gstatic.com/firebasejs/7.2.0/firebase.js"></script> -->

        <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
        <!-- <script src="/__/firebase/7.17.2/firebase-analytics.js"></script> -->

        <!-- Add Firebase products that you want to use -->
        <script src="/__/firebase/7.17.2/firebase-auth.js"></script>
        <script src="/__/firebase/7.17.2/firebase-firestore.js"></script>
        <script defer src="/__/firebase/7.17.2/firebase-database.js"></script>
        
        <script defer src="/__/firebase/7.17.2/firebase-auth.js"></script>
        <script defer src="/__/firebase/7.17.2/firebase-storage.js"></script>

        <script defer src="/__/firebase/init.js"></script>

        <script>
            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyDSFuWCK3w0bkM-K8atbePTZ2wezlGQ5JU",
                authDomain: "jakethoffman-7b7ab.firebaseapp.com",
                databaseURL: "https://jakethoffman-7b7ab.firebaseio.com",
                projectId: "jakethoffman-7b7ab",
                storageBucket: "jakethoffman-7b7ab.appspot.com",
                messagingSenderId: "22222103514",
                appId: "1:22222103514:web:922fceb2b84f4c6b3716e3",
                measurementId: "G-5SHY77NZ1S"
            };

            
            // // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            const login = (fn) => {
                var email = prompt('email');
                var password = prompt('password');

                firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
                    var errorCode = error.code;
                    var errorMessage = error.message;

                    console.log(errorMessage);
                });
            }
  
            const logout = (fn) => {
                firebase.auth().signOut().then(function() {
                    console.log("Signed Out");
                }, function(error) {
                    console.log(error);
                });
            }

            const getFormattedDate = (fn) => {
                var d = new Date();

                year = d.getFullYear();
                day = d.getDate();
                var month;
                switch(d.getMonth()) {
                    case 0: month = "January";
                        break;
                    case 1: month = "February";
                        break;
                    case 2: month = "March";
                        break;
                    case 3: month = "April";
                        break;
                    case 4: month = "May";
                        break;
                    case 5: month = "June";
                        break;
                    case 6: month = "July";
                        break;
                    case 7: month = "August";
                        break;
                    case 8: month = "September";
                        break;
                    case 9: month = "October";
                        break;
                    case 10: month = "November";
                        break;
                    case 11: month = "December";
                        break;
                }

                var date = year.toString() + " " + month + " " + day.toString();

                return date;
            }

            const addLink = (fn) => {

                var title = prompt('Title', '');
                var url = prompt('URL', '');
                
                var date = getFormattedDate();

                var key = firebase.database().ref('links/').push().key;
                
                firebase.database().ref('links/' + key).set({
                    title: title,
                    url: url,
                    date: date
                })
            }

            const addProject = (fn) => {
                var title = prompt('Title', '');
                var desc = prompt('Description', '');
                var url = prompt('URL', '');

                var key = firebase.database().ref('projects/').push().key;
                
                firebase.database().ref('projects/' + key).set({
                    title: title,
                    desc: desc,
                    url: url
                })
            }

            const addThought = (fn) => {
                var title = prompt('Title', '');
                var content = prompt('Content', '');
                
                var date = getFormattedDate();

                var key = firebase.database().ref('thoughts/').push().key;
                
                firebase.database().ref('thoughts/' + key).set({
                    title: title,
                    content: content,
                    date: date
                })
            }

            const links = (fn) => {
                document.getElementById("content").innerHTML = '';
                firebase.database().ref("links").on("child_added", function(snap){

                let title = snap.val().title;
                let date = snap.val().date;
                let url = snap.val().url;

                var html = [
                    '<div class="entry">',
                        '<a class="entry-link" href="' + url + '" target="_blank">' + title + ' --</a>',
                        '<div class="entry-date"><span class="tab"></span>' + date + '</div>'
                ].join("\n");

                document.getElementById("content").innerHTML = html + document.getElementById("content").innerHTML;
                });
            }

            document.getElementById("links").addEventListener("click", links);

            const projects = (fn) => {
                document.getElementById("content").innerHTML = '';
                firebase.database().ref("projects").on("child_added", function(snap){

                let title = snap.val().title;
                let desc = snap.val().desc;
                let url = snap.val().url;

                var html = [
                    '<div class="entry">',
                        '<a class="entry-link" href="' + url + '" target="_blank">' + title + ' --</a>',
                        '<p class="entry-desc"></br><span class="tab"></span>' + desc + '</p></div>'
                ].join("\n");

                document.getElementById("content").innerHTML = html + document.getElementById("content").innerHTML;
                });
            }

            document.getElementById("projects").addEventListener("click", projects);

            const thoughts = (fn) => {
                document.getElementById("content").innerHTML = '';
                firebase.database().ref("thoughts").on("child_added", function(snap){

                let title = snap.val().title;
                let content = snap.val().content;
                let date = snap.val().date;

                var html = [
                    '<div class="entry">',
                        '<div class="entry-title">' + title + ' --</div>',
                        '<p class="entry-content"></br><span class="tab"></span>' + content + '</p></div>',
                        '<div class="entry-date"><span class="tab"></span>' + date + '</div>'
                ].join("\n");

                document.getElementById("content").innerHTML = html + document.getElementById("content").innerHTML;
                });
            }

            document.getElementById("thoughts").addEventListener("click", thoughts);

            function changeColors(num) {
                let root = document.documentElement;

                switch (num) {
                    case 0:
                        root.style.setProperty('--color-left', "#292828");
                        root.style.setProperty('--color-header', "#292828");
                        root.style.setProperty('--color-content', "#292828");
                        root.style.setProperty('--color-title', "#ea6962");
                        root.style.setProperty('--color-emph', "#ea6962");
                        root.style.setProperty('--color-title-link-hover', "#b85651a0");
                        root.style.setProperty('--color-desc', "#d4be98");
                        root.style.setProperty('--color-date', "#d8a657");
                        root.style.setProperty('--color-header-link', "#d4be98");
                        root.style.setProperty('--color-header-link-hover', "#928374");
                        root.style.setProperty('--color-left-link', "#d4be98");
                        root.style.setProperty('--color-left-link-hover', "#928374");
                    break;
                    case 1:
                        root.style.setProperty('--color-left', "#282a36");
                        root.style.setProperty('--color-header', "#282a36");
                        root.style.setProperty('--color-content', "#282a36");
                        // root.style.setProperty('--color-content', "#44475a");
                        root.style.setProperty('--color-title', "#ff5555");
                        root.style.setProperty('--color-emph', "#ff5555");
                        root.style.setProperty('--color-title-link-hover', "#bd93f9");
                        root.style.setProperty('--color-desc', "#f8f8f2");
                        root.style.setProperty('--color-date', "#8be9fd");
                        root.style.setProperty('--color-header-link', "#f8f8f2");
                        root.style.setProperty('--color-header-link-hover', "#bd93f9");
                        root.style.setProperty('--color-left-link', "#f8f8f2");
                        root.style.setProperty('--color-left-link-hover', "#bd93f9");
                    break;
                }
            }

            window.onload = function() {
                document.getElementById("content").innerHTML = '';
                thoughts();
            }

            const debounce = (fn) => {
                let frame;

                return (...params) => {
                
                    if (frame) { 
                        cancelAnimationFrame(frame);
                    }

                    frame = requestAnimationFrame(() => {
                        fn(...params);
                    });
                } 
            };

            // Reads out the scroll position and stores it in the data attribute
            // so we can use it in our stylesheets
            const storeScroll = () => {
                document.documentElement.dataset.scroll = window.scrollY;
            }

            // Listen for new scroll events, here we debounce our `storeScroll` function
            document.addEventListener('scroll', debounce(storeScroll), { passive: true });

            storeScroll();
        </script>
    </body>
</html>
